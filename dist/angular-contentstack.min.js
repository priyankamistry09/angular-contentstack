!function(){"use strict";angular.module("contentstack",[])}(),function(){"use strict";function n(){var n;this.initialize=function(t){n=Contentstack.Stack(t)},this.cachePolicy=function(t){n.setCachePolicy(t)},this.$get=function(){return n}}angular.module("contentstack").provider("stack",n)}(),function(){"use strict";function n(n,t){function i(i,e,a,r,o){o(i,function(t){var a=n(t)(i);e.append(a)});var c,u=t.get("stack"),s=u.ContentType(a.contentType),l=s.Query();i.$isLoading=!0,i.$pagination={};var f=function(n){function t(){var n=a.tags.split(",").map(function(n){return n.trim()});l.tags(n)}function i(){var n;try{n=JSON.parse(a.query)}catch(t){console.error(t)}l.query(n)}function e(){l.search(a.search)}function r(){var n=a.regex.split(",").map(function(n){return n.trim()});l.regex(n[0],"/^"+n[1]+"/")}function o(){var n=a.notContainedIn,t=n.substring(n.lastIndexOf("[")+1,n.lastIndexOf("]"));n=a.notContainedIn.split(",").map(function(n){return n.trim()}),t=t.split(",").map(function(n){return n.trim()}),l.notContainedIn(n[0],t)}function c(){var n=a.containedIn,t=n.substring(n.lastIndexOf("[")+1,n.lastIndexOf("]"));n=a.containedIn.split(",").map(function(n){return n.trim()}),t=t.split(",").map(function(n){return n.trim()}),l.containedIn(n[0],t)}function u(){var n=a.notEqualTo.split(",").map(function(n){return n.trim()});l.notEqualTo(n[0],n[1])}function f(){var n=a.where.split(",").map(function(n){return n.trim()});l.where(n[0],n[1])}function d(){l.exists(a.exists)}function p(){var n=a.includeReference.split(",").map(function(n){return n.trim()});l.includeReference(n)}function g(){l.skip(Number(a.skip))}function m(){l.limit(Number(a.limit))}function h(){l.descending(a.descending)}function $(){l.ascending(a.ascending)}function v(){l.includeOwner()}function y(){l.includeSchema()}function C(){l.afterUid(a.afterUid)}function O(){l.beforeUid(a.beforeUid)}function P(){l.includeCount()}function T(){var n=a.except,t=n.substring(n.lastIndexOf("[")+1,n.lastIndexOf("]"));t=fields.split(",").map(function(n){return n.trim()}),l.except(t)}function k(){var n=a.only,t=n.substring(n.lastIndexOf("[")+1,n.lastIndexOf("]"));t=t.split(",").map(function(n){return n.trim()}),l.only(t)}function x(){l=s.Entry(a.uid)}function S(){l.language(a.language)}function b(){var n=a.greaterThanOrEqualTo.split(",").map(function(n){return n.trim()});l.greaterThanOrEqualTo(n[0],n[1])}function I(){var n=a.greaterThan.split(",").map(function(n){return n.trim()});l.greaterThan(n[0],n[1])}function N(){var n=a.lessThanOrEqualTo.split(",").map(function(n){return n.trim()});l.lessThanOrEqualTo(n[0],n[1])}function E(){var n=a.lessThan.split(",").map(function(n){return n.trim()});l.lessThan(n[0],n[1])}function q(){var n=Contentstack.CachePolicy[a.setCachePolicy];l.setCachePolicy(n)}var L={setCachePolicy:q,lessThan:E,lessThanOrEqualTo:N,greaterThan:I,greaterThanOrEqualTo:b,language:S,uid:x,only:k,except:T,includeCount:P,includeReference:p,beforeUid:O,afterUid:C,includeSchema:y,includeOwner:v,ascending:$,descending:h,limit:m,skip:g,exists:d,where:f,notEqualTo:u,containedIn:c,notContainedIn:o,regex:r,search:e,query:i,tags:t};return L.hasOwnProperty(n)?L[n]():null};for(var d in a.$attr)a.hasOwnProperty(d)&&f(d);a.includeCount=!0,l.includeCount(),i.all||a.uid?(c=a.as||"$contentstackEntries",a.uid?l.toJSON().fetch().spread(function(n,t){i.$isLoading=!1,i[c]=n||{},a.includeSchema&&(i.schema=t),i.$apply()},function(n){console.error("error",n)}):l.toJSON().find().spread(function(n,t,e){i.$isLoading=!1,i[c]=n||{},a.includeCount&&(i.count=a.includeSchema?e:t),a.includeSchema&&(i.schema=t),p(),i.$apply()},function(n){console.error("error",n)})):(c=a.as||"$contentstackEntries",l.toJSON().find().spread(function(n,t,e){i.$isLoading=!1,i[c]=n||{};a.includeCount&&(i.count=a.includeSchema?e:t),a.includeSchema&&(i.schema=t),p(),i.$apply()},function(n){console.error("error",n)})),i.loadMoreNumber=0,i.$pagination.loadMore=function(){if(i.$pagination.currentPage!==i.$pagination.totalPages){i.$isLoading=!0,i.loadMoreNumber++;var n=i.loadMoreNumber*Number(a.limit);l.skip(n),l.toJSON().find().spread(function(n,t,e){i.$isLoading=!1,n.length&&i.$pagination.currentPage++;var r=i[c].concat(n);i[c]=r||[],a.includeCount&&(i.$pagination.totalCount=a.includeSchema?e:t),a.includeSchema&&(i.schema=t),i.$apply()},function(n){console.error("error",n)})}};var p=function(){i.$pagination.totalCount=i.count,i.$pagination.totalPages=Math.ceil(i.$pagination.totalCount/a.limit),i.$pagination.itemsPerPage=a.limit};i.$pagination.currentPage=1;{var g=function(n){l.skip(n),l.toJSON().find().spread(function(n,t,e){i.$isLoading=!1,i[c]=n,a.includeCount&&(i.$pagination.totalCount=a.includeSchema?e:t),a.includeSchema&&(i.schema=t),i.$apply()},function(n){console.error("error",n)})};i.$pagination.currentPage*Number(a.limit)}i.$pagination.next=function(){if(i.$pagination.currentPage!==i.$pagination.totalPages){i.$isLoading=!0;var n=i.$pagination.currentPage*Number(a.limit);g(n),i.$pagination.currentPage++}},i.$pagination.previous=function(){if(!(i.$pagination.currentPage<=1)){i.$isLoading=!0,i.$pagination.isLoading=!0,i.$pagination.currentPage--;var n=(i.$pagination.currentPage-1)*Number(a.limit);g(n)}}}var e={restrict:"E",transclude:!0,link:i};return e}angular.module("contentstack").directive("contentstackEntry",n),n.$inject=["$compile","$injector"]}(),function(){"use strict";function n(n){var t=n.get("stack");return t}angular.module("contentstack").factory("contentstack",n),n.$inject=["$injector"]}();